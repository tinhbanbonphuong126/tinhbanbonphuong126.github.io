<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Calculator</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="wrap">
		<form action="" name="calc">
			<div id="screen">
				<input type="text" id="display" name="display" value="" disabled>
			</div>
			<div id="keyboard">
				<div class="btn">
					<button type="button">1</button>
				</div>
				<div class="btn">
					<button type="button">2</button>
				</div>
				<div class="btn">
					<button type="button">3</button>
				</div>
				<div class="btn">
					<button type="button">=</button>
				</div>
				<div class="btn">
					<button type="button">&lt;-</button>
				</div>
				<div class="btn">
					<button type="button" style="background-color: pink;">CLR</button>
				</div>
				<div class="btn">
					<button type="button">4</button>
				</div>
				<div class="btn">
					<button type="button">5</button>
				</div>
				<div class="btn">
					<button type="button">6</button>
				</div>
				<div class="btn">
					<button type="button">-</button>
				</div>
				<div class="btn">
					<button type="button">%</button>
				</div>
				<div class="btn">
					<button type="button">cos</button>
				</div>
				<div class="btn">
					<button type="button">7</button>
				</div>
				<div class="btn">
					<button type="button">8</button>
				</div>
				<div class="btn">
					<button type="button">9</button>
				</div>
				<div class="btn">
					<button type="button">*</button>
				</div>
				<div class="btn">
					<button type="button">!</button>
				</div>
				<div class="btn">
					<button type="button">sin</button>
				</div>
				<div class="btn">
					<button type="button">.</button>
				</div>
				<div class="btn">
					<button type="button">0</button>
				</div>
				<div class="btn">
					<button type="button">,</button>
				</div>
				<div class="btn">
					<button type="button">+</button>
				</div>
				<div class="btn">
					<button type="button">/</button>
				</div>
				<div class="btn">
					<button type="button">tan</button>
				</div>
				<div class="btn">
					<button type="button">e</button>
				</div>
				<div class="btn">
					<button type="button">PI</button>
				</div>
				<div class="btn">
					<button type="button">x^y</button>
				</div>
				<div class="btn">
					<button type="button">(</button>
				</div>
				<div class="btn">
					<button type="button">)</button>
				</div>
				<div class="btn">
					<button type="button">^_^</button>
				</div>
				<div class="btn">
					<button type="button">sqrt</button>
				</div>
				<div class="btn">
					<button type="button">log<sub>2</sub></button>
				</div>
				<div class="btn">
					<button type="button">lg</button>
				</div>
				<div class="btn">
					<button type="button">ln</button>
				</div>
				<div class="btn">
					<button type="button">:)</button>
				</div>
				<div class="btn">
					<button type="button">:(</button>
				</div>
			</div>
		</form>
	</div>
</body>
</html>

<script>
// Lấy đối tượng html, bạn có thể sử dụng các DOM Element khác để lấy
var button = document.getElementsByTagName('button');
var vl_button = []; 
var kq = "";
var kqts = "";
// Lặp qua từng phần tử trong kết quả và gán sự kiện
for (var i = 0; i < button.length; i++)
{


	// vl_button[i]  = document.getElementsByTagName('button')[i].innerHTML;
	button[i].addEventListener('click', function(num){
		return function () {
		var btn = this.innerHTML;





	// (function (i) {

	// vl_button[i]  = document.getElementsByTagName('button')[i].innerHTML;
	// button[i].addEventListener('click', function(){
	// 	var btn = vl_button[i];
		// Ham tinh can bac 2 
	if(btn !== "=") 
	{
		// Tinh can bac 2	
		if(btn == "sqrt") 
		{
			kq += (btn + "(");
			kqts += "Math.sqrt(";
		}
		
		//Tinh sin
		
		else if(btn == "sin") 
		{
			kq += (btn + "(");
			kqts += "Math.sin(";
		}

		// Tinh cos
		else if(btn == "cos") 
		{
			kq += (btn + "(");
			kqts += "Math.cos(";
		}

		//tinh tan
		else if(btn == "tan") 
		{
			kq += (btn + "(");
			kqts += "Math.tan(";
		}
		//Tinh logarit ln co so tu nhien
		else if(btn == "ln") 
		{
			kq += (btn + "(");
			kqts += "Math.log(";
		}

		//Tinh logarit ln co so 2
		else if(btn == "log<sub>2</sub>") 
		{
			kq += "log2(";
			kqts += "Math.log2(";
		}
		//Tinh logarit thap phan
		else if(btn == "lg") 
		{
			kq += "log2(";
			kqts += "Math.log10(";
		}
		// gia tri pi
		else if(btn == "PI") 
		{
			kq += "pi";
			kqts += "*3.14159265358979";
		}
		//Co so tu nhien e
		else if(btn == "e") 
		{
			kq += "e";
			kqts += "2.718281828";
		}

		// Tinh ham luy thua
		else if(btn == "x^y") 
		{
			kq += "pow(";
			kqts += "Math.pow(";
		}

		// Tinh phan tram
		else if(btn == "%") 
		{
			kq += btn;
			kqts += "/100";
		}
		// Tinh giai thua
		else if(btn == "!") 
		{
			kq += btn + "(";
			kqts += "giaithua(";
		}


		// Tinh ham luy thua
		else if(btn == "x^y") 
		{
			kq += "pow(";
			kqts += "Math.pow(";
		}



		// Neu xoa di toan bo screen 
		else if(btn == "CLR")
		{	kq = "";
			kqts = "";}
		//Neu tinh phan tram 
		// Neu xoa di mot so phia sau cung
		else if(btn == "&lt;-") 
		{
			kq = kq.substring(0, kq.length - 1);
			kqts = kqts.substring(0, kqts.length - 1);
		}
		// Neu la gia tri or ...
		else
	    {kq += btn;
		 kqts += btn;}


		calc.display.value = kq;
	} else
		{ 		
		  check = eval(kqts);
		  if (isNaN(check)) calc.display.value = "Opps";
		  else calc.display.value = check;
		}



	};

	}(i));
}	




		function giaithua (n){
			  if (n==0 || n==1){
			    return 1;
			  }
			  return giaithua(n-1)*n;
			} 



</script>